////////////////////////////////////////////////////////////////////////////////////////////////
// vim: set filetype=cpp autoindent noexpandtab tabstop=4 shiftwidth=4 foldmethod=marker :
// (c) 2011 Anton Povarov <anton.povarov@gmail.com>
////////////////////////////////////////////////////////////////////////////////////////////////

#ifndef MEOW_FORMAT_INSERTER__NULLCHAR_HPP_
#define MEOW_FORMAT_INSERTER__NULLCHAR_HPP_

#include <meow/str_ref.hpp>
#include <meow/format/metafunctions.hpp>

////////////////////////////////////////////////////////////////////////////////////////////////
namespace meow { namespace format {
////////////////////////////////////////////////////////////////////////////////////////////////

	struct nullchar_t {};

	template<>
	struct string_access<nullchar_t>
	{
		static char const data_ = 0;

		static str_ref call(nullchar_t const&)
		{
			return str_ref(&data_, 1);
		}
	};

	// anonymous namespace to avoid linker errors
	namespace
	{
		static nullchar_t const nullchar;
	}

////////////////////////////////////////////////////////////////////////////////////////////////
}} // namespace meow { namespace format {
////////////////////////////////////////////////////////////////////////////////////////////////

#endif // MEOW_FORMAT_INSERTER__NULLCHAR_HPP_

