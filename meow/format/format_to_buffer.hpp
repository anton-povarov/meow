////////////////////////////////////////////////////////////////////////////////////////////////
// vim: set filetype=cpp autoindent noexpandtab tabstop=4 shiftwidth=4 foldmethod=marker :
// (c) 2011 Anton Povarov <anton.povarov@gmail.com>
////////////////////////////////////////////////////////////////////////////////////////////////

#ifndef MEOW_FORMAT__FORMAT_TO_BUFFER_HPP_
#define MEOW_FORMAT__FORMAT_TO_BUFFER_HPP_

#include "sink/buffer.hpp"
#include "format_functions.hpp"

////////////////////////////////////////////////////////////////////////////////////////////////
namespace meow { namespace format {
////////////////////////////////////////////////////////////////////////////////////////////////

	template<class F, class... A>
	buffer_move_ptr fmt_buf(size_t initial_sz, F const& fmt_str, A const&... args)
	{
		buffer_move_ptr buf = create_buffer(initial_sz);
		fmt(*buf, fmt_str, args...);
		return move(buf);
	}

	template<class... A>
	buffer_move_ptr write_buf(size_t initial_sz, A const&... args)
	{
		buffer_move_ptr buf = create_buffer(initial_sz);
		write(*buf, args...);
		return move(buf);
	}

////////////////////////////////////////////////////////////////////////////////////////////////
}} // namespace meow { namespace format {
////////////////////////////////////////////////////////////////////////////////////////////////

#endif // MEOW_FORMAT__FORMAT_TO_BUFFER_HPP_

